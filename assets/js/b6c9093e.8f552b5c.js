"use strict";(self.webpackChunk_hades_ts_docs=self.webpackChunk_hades_ts_docs||[]).push([[8731],{158:(e,n,t)=>{t.d(n,{Zo:()=>d,kt:()=>v});var r=t(6393);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var c=r.createContext({}),l=function(e){var n=r.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},d=function(e){var n=l(e.components);return r.createElement(c.Provider,{value:n},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},g=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,s=e.originalType,c=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),p=l(t),g=o,v=p["".concat(c,".").concat(g)]||p[g]||u[g]||s;return t?r.createElement(v,a(a({ref:n},d),{},{components:t})):r.createElement(v,a({ref:n},d))}));function v(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var s=t.length,a=new Array(s);a[0]=g;var i={};for(var c in n)hasOwnProperty.call(n,c)&&(i[c]=n[c]);i.originalType=e,i[p]="string"==typeof e?e:o,a[1]=i;for(var l=2;l<s;l++)a[l]=t[l];return r.createElement.apply(null,a)}return r.createElement.apply(null,t)}g.displayName="MDXCreateElement"},787:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>s,metadata:()=>i,toc:()=>l});var r=t(5442),o=(t(6393),t(158));t(4532);const s={},a="HadesBotService",i={unversionedId:"bot-service",id:"bot-service",title:"HadesBotService",description:"HadesBotService is a base class for your bot service. It provides a couple core conveniences most bots will need.",source:"@site/docs/hades/bot-service.md",sourceDirName:".",slug:"/bot-service",permalink:"/docs/hades/bot-service",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"hades",previous:{title:"HadesContainer",permalink:"/docs/hades/hades-container"},next:{title:"Client Events",permalink:"/docs/hades/events"}},c={},l=[{value:"Logging In",id:"logging-in",level:2},{value:"Handling Events",id:"handling-events",level:2},{value:"Designing Your Bot",id:"designing-your-bot",level:2}],d={toc:l};function p(e){let{components:n,...t}=e;return(0,o.kt)("wrapper",(0,r.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"hadesbotservice"},"HadesBotService"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"HadesBotService")," is a base class for your bot service. It provides a couple core conveniences most bots will need."),(0,o.kt)("h2",{id:"logging-in"},"Logging In"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"HadesBotService")," exposes a ",(0,o.kt)("inlineCode",{parentName:"p"},"login()")," method which will log the bot in to Discord."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"// src/index.ts\nconst bot = container.get(MyBotService);\nbot.login();\n")),(0,o.kt)("h2",{id:"handling-events"},"Handling Events"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"HadesBotService")," exposes a number of methods which are called when the associated Discord.js event is fired."),(0,o.kt)("p",null,"Once your bot is logged in, the ",(0,o.kt)("inlineCode",{parentName:"p"},"onReady()")," method will be called."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"// src/services/BotService.ts\n@singleton()\nexport class BotService extends HadesBotService {\n    async onReady() {\n        console.log(`Logged in as ${this.client.user.username}.`);\n    }\n}\n")),(0,o.kt)("h2",{id:"designing-your-bot"},"Designing Your Bot"),(0,o.kt)("p",null,"Using the ",(0,o.kt)("inlineCode",{parentName:"p"},"@inject()")," decorator, you can inject any other service into your bot service."),(0,o.kt)("p",null,"By depending on other services, your bot service can stay small and easy to understand."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"// src/services/BotService.ts\n@singleton()\nexport class BotService extends HadesBotService {\n    @inject(ILogger)\n    log: ILogger;\n\n    @inject(ICommandService)\n    commands: ICommandService;\n\n    async onMessage(message: Message) {\n        if (message.author.bot) return;\n        await this.commands.handle(message);\n    }\n\n}\n")),(0,o.kt)("p",null,"This convention of delegating work to other services applies to those services as well. "),(0,o.kt)("p",null,"This approach can help you to keep the components of your bot small and easy to understand."))}p.isMDXComponent=!0},4532:(e,n,t)=>{t(6393)}}]);